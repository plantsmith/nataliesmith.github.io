{
  "hash": "4fed68d6522a9ad3b5610477233dc823",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tradeoffs of Green Investing\"\ndescription: \"Monte Carlo simulation of 100 investment portfolios to assess the financial and environmental performance of green versus brown investments\"\nauthor: \"Natalie Smith\"\ndate: 12-03-2024\ncategories: [Modeling, Economics]\nimage: investing.jpg\nformat:\n  html:\n    code-fold: true\nexecute:\n  echo: true\n  message: false\n  warning: false\ndraft: false # \"true\" will mean this is a draft post so it wont show up on my site\nfreeze: true\n---\n\n\n\nThis is an excerpt from a larger report examining the trade-offs of investing in green companies and divesting from brown companies, developed for a Cost-Benefit Analysis course.\n\n# Introduction\n\nThis analysis examines the trade-offs involved in investing in a reduced-carbon portfolio, focusing on the balance between financial returns, environmental costs, and investment risk. Additionally we explored the potential for carbon leakage into brown companies, a critical consideration for understanding the broader environmental impacts of green investing. To address challenges often linked to greenwashing in ESG initiatives, we focused our analysis on renewable energy companies with verifiable, sustainability-driven operations. Using an ex-ante cost-benefit analysis, we assessed the financial and environmental implications of green investments, offering insights into the sustainability trade-offs involved.\n\n# Methods\n\nWe examined a diversified portfolio consisting of ten companies: five green firms, which prioritize renewable energy, and five brown firms, which are focused on fossil fuels. This composition allowed for direct comparisons of financial returns and environmental costs across contrasting sectors. The brown firms analyzed were Exxon Mobil, Chevron, BP, ConocoPhillips, and Shell, while the green firms included NextEra Energy, Iberdrola, Enphase Energy, Brookfield Renewable Partners, and First Solar. The environmental metrics for each company were calculated based on their total greenhouse gas emissions (Scope 1, 2, and 3 emissions) for 2023 (measured in MT CO₂e) and the company’s total revenue for the year, as sourced from company reports. Using those figures, we derived an emissions intensity of CO₂e per revenue unit for each company.\n\n## Data Sources and Timeframe\n\nHistorical adjusted closing prices (ACP) for each company in the portfolio were sourced from Yahoo Finance. ACP, which adjusts for corporate actions such as dividends and stock splits, provides a more accurate measure of stock value over time. A five-year timeframe (2018–2023) was selected to balance historical stock performance with available greenhouse gas (GHG) emissions data, creating a solid foundation for our analysis.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load libraries\nlibrary(tidyverse)\nlibrary(quantmod)\nlibrary(doBy)      \nlibrary(scales)\nlibrary(showtext) \nlibrary(glue)\nlibrary(ggtext)\nlibrary(sf)\nlibrary(here)\n\n#......................import Google fonts.......................\n# `name` is the name of the font as it appears in Google Fonts\n# `family` is the user-specified id that you'll use to apply a font in your ggpplot\nfont_add_google(name = \"Roboto\", family = \"rob\")\nfont_add_google(name = \"Open Sans\", family = \"open_sans\")\n\n\n# turn show text on\nshowtext_auto()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set parameters\n\n#define the date range\nstart_date <- \"2018-01-01\"\nend_date <- \"2023-12-31\"\n\n# Define company tickers\ntickers <- c(\"XOM\", \"CVX\", \"BP\", \"COP\", \"SHEL\", \"NEE\", \"IBDRY\", \"ENPH\", \"BEP\", \"FSLR\")\n\n# Define carbon intensities for each company (in tonnes of CO2 per unit of revenue)\nemissions_intensity  <- c(\n  XOM = 0.002,     # Exxon Mobil\n  CVX = 0.008,    # Chevron\n  BP = 0.002,     # BP\n  COP = 0.004,    # ConocoPhillips\n  SHEL = 0.004,    # Shell\n  NEE = 0.002,     # NextEra Energy\n  IBDRY = 0.001,    \n  ENPH = 0.00003,  # Enphase Energy\n  BEP = 0.000005,  # Brookfield Renewable Partners\n  FSLR = 0.0013    # First Solar\n)\n\n# Social Cost of Carbon (SCC) in dollars per tonne of CO2\nSCC <- 185\n```\n:::\n\n\n\n## Financial Analysis\n\nAll stock data were compiled into a single data frame in RStudio (see Appendix A for full code). Daily returns were calculated to assess day-to-day performance. These returns, representing the percentage change in ACP from one day to the next, were generated using the ROC() function with type = \"discrete,\" ensuring returns were calculated using the formula:\n\n$$\n\\text{Return} = \\frac{P_t - P_{t-1}}{P_{t-1}} = \\frac{P_t}{P_{t-1}} - 1\n$$\n\nWhere Pt is the current adjusted close price, and Pt-1 is the previous day’s adjusted close price. Mean daily returns were annualized by multiplying by 252, the typical number of trading days per year. Volatility, the rate at which the price of a stock fluctuates over time, was then calculated as the standard deviation of annual returns. The result was divided by the square root of 12 to convert this to a monthly measure.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#get data to build portfolios\n#getSymbols = fetches historical stock data for these tickers from Yahoo Finance\n\nfor (ticker in tickers) {\n  getSymbols(ticker, src = \"yahoo\", from = start_date, to = end_date)\n}\n\n# Merge adjusted closing prices for all tickers into a single data frame.\nprices <- do.call(merge, lapply(tickers, function(ticker) Ad(get(ticker))))\n\n# Calculate daily returns for each stock \nreturns <- na.omit(ROC(prices, type = \"discrete\"))\n\n# Calculate annualized average return.\navg_return <- mean(returns) * 252\n\n# Calculate monthly volatility (standard deviation of returns).\nsd_og <- sd(returns)\nsd <- sd_og / sqrt(12)\n```\n:::\n\n\n\n## Simulation of Portfolio Performance\n\nA Monte Carlo simulation was conducted to model financial and environmental outcomes across 100 randomized scenarios over a 5-year period (60 months). The simulation begins with an initial investment of \\$10,000, which was randomly allocated across a portfolio of 10 companies. These allocations were normalized to ensure they summed to 1, ensuring proportional distribution across the portfolio. Monthly returns for each company were generated using a normal distribution based on historical average returns. To reflect monthly values, the mean return was divided by 12, and the standard deviation was adjusted by the square root of 12. Portfolio performance was tracked throughout the simulation by applying monthly portfolio returns, calculated as the weighted sum of company-level returns based on their allocation to the portfolio’s value. Individual company portfolio values were also tracked to assess their contributions to the overall portfolio performance. At the end of each simulation, the cumulative return was determined as the percentage change in the portfolio’s value relative to the initial investment, representing total gain or loss over the 5-year period.\n\nEmissions were calculated for each company by multiplying its allocated portion of the initial investment by its emissions intensity, measured as CO2emission per unit of revenue. These emissions were then multiplied by the Social Cost of Carbon (SCC). The total environmental cost for each scenario was obtained by summing the costs across all companies in the portfolio.\n\nVolatility was calculated at both the company and portfolio levels throughout the simulation. Company-level volatility was determined by annualizing the standard deviation of monthly returns, while portfolio volatility represented the overall risk, combining all companies' performance. After completing all 100 scenarios, results were aggregated to analyze trends in financial returns, environmental costs, and volatility, providing insights into the trade-offs between financial and environmental metrics for green and brown firms.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#set up initial variables\nset.seed(123)  #for reproducibility\ninitial_investment <- 10000 # starting investment is 10k\nn_scenarios <- 100  #number of scenarios to simulate\nn_months <- 60  #simulation for 5 years (60 months)\n\n# Initialize results list to store each scenario's data before combining\nresults_list <- vector(\"list\", n_scenarios)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Run scenarios to simulate random allocation\nfor (i in 1:n_scenarios) {\n  # Random allocation for each company\n  allocation <- runif(length(tickers))\n  allocation <- allocation / sum(allocation)  # Normalize to sum to 1\n  \n  # Generate monthly returns for each company\n  company_monthly_returns <- matrix(rnorm(n_months * length(tickers), avg_return / 12, sd / sqrt(12)),\n                                    nrow = n_months, ncol = length(tickers))\n  \n  # Initialize portfolio value and returns\n  portfolio_value <- initial_investment\n  monthly_portfolio_returns <- numeric(n_months)\n  \n  # Initialize matrix and vectors\n  company_final_returns <- numeric(length(tickers))\n  company_portfolio_values <- matrix(0, nrow = n_months, ncol = length(tickers))\n  emissions <- initial_investment * allocation * emissions_intensity\n  environmental_cost_allocation <- emissions * SCC\n  \n  # Update portfolio value based on monthly returns and allocation\n  for (j in 1:n_months) {\n    company_returns_at_j <- company_monthly_returns[j, ]  # Returns for all companies at month j\n    \n    # Update portfolio and monthly return\n    portfolio_monthly_return <- sum(company_returns_at_j * allocation)\n    portfolio_value <- portfolio_value * (1 + portfolio_monthly_return)\n    monthly_portfolio_returns[j] <- portfolio_monthly_return\n    \n    # Calculate individual company portfolio values\n    for (k in 1:length(tickers)) {\n      if (j == 1) {\n        company_portfolio_values[j, k] <- initial_investment * allocation[k] * (1 + company_returns_at_j[k])\n      } else {\n        company_portfolio_values[j, k] <- company_portfolio_values[j - 1, k] * (1 + company_returns_at_j[k])\n      }\n    }\n    \n    # Accumulate final returns\n    company_final_returns <- company_final_returns + company_returns_at_j * allocation\n  }\n  \n  # Final calculations outside the monthly loop\n  total_return <- (portfolio_value - initial_investment) / initial_investment\n  total_enviro_cost_scenario <- sum(environmental_cost_allocation)\n  company_final_portfolio_values <- company_portfolio_values[n_months, ]\n  \n  # Calculate volatilities\n  company_volatilities <- apply(company_monthly_returns, 2, sd) * sqrt(12)  # Annualize\n  portfolio_volatility <- sd(monthly_portfolio_returns) * sqrt(12)\n  \n  # Store results\n  results_list[[i]] <- data.frame(\n    scenario = i,\n    company = tickers,\n    allocation = allocation,\n    final_portfolio_value = portfolio_value,\n    total_return = total_return,\n    company_final_return = company_final_returns,\n    company_final_portfolio_value = company_final_portfolio_values,\n    emissions = emissions,\n    environmental_cost_allocation = environmental_cost_allocation,\n    total_enviro_cost_scenario = total_enviro_cost_scenario,\n    company_volatility = company_volatilities,\n    scenario_volatility = portfolio_volatility\n  )\n}\n\n# Combine all results\nresults <- do.call(rbind, results_list)\n```\n:::\n\n\n\n# Results\n\nThis analysis examined the mean returns, portfolio growth, environmental costs, and volatility of a diversified portfolio consisting of ten companies—five green firms focused on renewable energy and five brown firms engaged in fossil fuels (Appendix A). The results highlight differences between the two categories, particularly regarding portfolio growth and environmental cost, while volatility remained relatively consistent across both groups ( Figure 1).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# visualization parameters: \n# List of green and brown companies\ngreen_firms <- c(\"NEE\", \"IBDRY\", \"ENPH\", \"BEP\", \"FSLR\")\nbrown_firms <- c(\"XOM\", \"CVX\", \"BP\", \"COP\", \"SHEL\")\n\n# df for company level results\ncompany_summary <- results %>%\n  group_by(company) %>%\n  summarise(\n    mean_company_return = mean(company_final_return, na.rm = TRUE),\n    mean_company_final_portfolio_value = mean(company_final_portfolio_value, na.rm = TRUE),\n    mean_enviro_cost = mean(environmental_cost_allocation, na.rm = TRUE),\n    mean_volatility = mean(company_volatility, na.rm = TRUE)  # Added for volatility\n  ) %>%\n  arrange(desc(mean_company_return))  # Sort by average return\n\ncompany_summary$firm_type <- ifelse(\n  company_summary$company %in% green_firms, \"Green\",\n  ifelse(company_summary$company %in% brown_firms, \"Brown\", \"Other\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsubtitle <- glue::glue(\"\n  <span style='color:#2E8B57;'>**Green firms**</span> show higher growth and lower environmental costs than <span style='color:#8B7765;'>**Brown firms**</span>.\n\")\n\n\n# PLOT\n\nscatter_plot <- ggplot(company_summary, aes(x = mean_enviro_cost, y = mean_company_final_portfolio_value, size = mean_volatility, color = firm_type)) +\n  geom_point(shape = 16) +\n  scale_color_manual(values = c(\"Green\" = \"seagreen\", \"Brown\" = \"peachpuff4\")) +  # Manually setting colors for firm types\n  geom_text(aes(label = company), hjust = 0.5, vjust = -1.0, size = 3) +  # Adding company names\n  \n  coord_cartesian(clip = \"off\") +\n\n  \n#LABs ----\n\n  labs(\n    title = \"Company Portfolio Growth vs Environmental Cost\",\n    x = \"Mean Environmental Cost ($)\",\n    y = \"Mean Portfolio Growth ($)\",\n    subtitle = subtitle,\n    size = \"Volatility\"\n  ) +\n  \n  guides(color = \"none\") +  #This hides the firm type legend\n  \nguides(\n  size = guide_legend(\n    override.aes = list(\n      shape = 21,\n      fill = \"#F5F5F5\",\n      color = \"black\",\n      stroke = 0.6\n    )\n  )\n) +\n  \n  \n  theme_minimal() +\n\n# CUSTOMIZE THEME --\n  theme(\n    \n    plot.title.position = \"plot\", # plot title to the left\n    # customize plot title text\n    plot.title = element_text(\n      family = \"rob\",\n      face = \"bold\",\n      size = 18,\n      color = \"black\", \n      margin = margin(b = 2)  # Add small bottom margin\n    ),\n     # customize subtitle text\n    plot.subtitle = ggtext::element_markdown(\n      family = \"rob\",\n      size = 11.5,\n      color = \"black\",\n      margin = margin(t = 0, r = 0, b = 5, l = 0)\n    ),\n    # customize caption text\n    plot.caption = element_text(\n      family = \"rob\",\n      face = \"italic\",\n      color = \"black\",\n      margin = margin(t = 15, r = 0, b = 0, l = 0)),\n    \n    # minimal grid panels - want to have some reference but not too bold\n    panel.grid.minor.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    \n    # customize axis titles\n    axis.title.y = element_text(\n      family = \"rob\",\n      margin = margin(r = 10)\n    ),\n    \n      axis.title.x = element_text(\n      family = \"rob\",\n      margin = margin(t = 10)\n    ),\n\n    # Customizing legend  - plot.legend isnt working\n    legend.position = \"right\",  \n    legend.title = element_text(family = \"rob\", face = \"bold\", size = 11),\n    legend.text = element_text(family = \"rob\", size = 10),\n    legend.key.height = unit(1, \"lines\"),\n    legend.key.width = unit(1.5, \"lines\"),\n    legend.spacing.y = unit(2, \"pt\"),\n  \n    # update margin\n    plot.margin = margin(t = 10, r = 10, b = 10, l = 10)\n  ) \n\nscatter_plot\n```\n\n::: {.cell-output-display}\n![Figure 1. Portfolio Growth vs. Environmental Cost for Each Company. The relationship between each company's mean environmental cost and portfolio growth, categorized by firm type. Green firms focused on renewable energy and Brown firms engaged in fossil fuels are represented by distinct colors. The size of each point represents the mean volatility, with larger points indicating higher volatility. The companies listed by abbreviation are as follows: FSLR (First Solar), ENPH (Enphase Energy), IBDRY (Iberdrola), BP (British Petroleum), SHEL (Shell), CVX (Chevron), NEE (NextEra Energy), XOM (ExxonMobil), BEP (Brookfield Renewable Partners), and COP (ConocoPhillips).](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# company_plot <- ggplot(company_summary, aes(x = reorder(company, mean_company_return), y = mean_company_return, fill = firm_type)) +\n#   geom_bar(stat = \"identity\") +\n#   scale_fill_manual(values = c(\"Green\" = \"seagreen\", \"Brown\" = \"peachpuff4\")) +\n#   labs(title = \"Mean Company Return Across Scenarios\",\n#        x = \"Company\", y = \"Mean Return\", fill = \"Firm Type\") +\n#   theme_minimal() +\n#   theme(axis.text.x = element_text(angle = 90, hjust = 1))\n# \n# company_plot\n```\n:::\n\n\n\n## Financial Performance\n\nThe companies exhibited relatively similar returns, with First Solar (FSLR) achieving the highest mean return at 13.02%, closely followed by Enphase (ENPH) and Iberdrola (IBDRY) at 12.57% and 12.52%, respectively. These results reflect positive growth for all companies, with portfolio values reaching between \\$3,094 and \\$3,551 (Figure 2), suggesting a moderate increase in value across the board. Notably, green firms, such as FSLR, ENPH, and IBDRY, displayed slightly higher returns compared to their Brown counterparts, with average portfolio growth ranging from \\$3,217 to \\$3,551.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubtitle <- glue::glue(\"\n  Mean across 100 scenarios over 5 years shows \n  <span style='color:#2E8B57;'>**green firms**</span> <br> outperform \n  <span style='color:#8B7765;'>**brown firms**</span> in portfolio growth.\n\")\n\nportfolio_value_plot <- ggplot(company_summary, aes(x = reorder(company, mean_company_final_portfolio_value), y = mean_company_final_portfolio_value, fill = firm_type)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = c(\"Green\" = \"seagreen\", \"Brown\" = \"peachpuff4\")) +\n  \n  #labs --\n  \n  labs(title = \"Company Portfolio Growth\",\n       y = \"Mean Portfolio Growth ($)\", \n       x = \"Company Ticker\",\n       subtitle = subtitle\n       ) +\n  \n  theme_minimal() +\n\n# CUSTOMIZE THEME --\n  theme(\n  \n    plot.title.position = \"plot\", # plot title to the left\n    # customize plot title text\n    plot.title = element_text(\n      family = \"rob\",\n      face = \"bold\",\n      size = 18,\n      color = \"black\", \n      margin = margin(b = 2)  # Add small bottom margin\n    ),\n     # customize subtitle text\n    plot.subtitle = ggtext::element_markdown(\n      family = \"rob\",\n      size = 11.5,\n      color = \"black\",\n      margin = margin(t = 0, r = 0, b = 5, l = 0)\n    ),\n    # customize caption text\n    plot.caption = element_text(\n      family = \"rob\",\n      face = \"italic\",\n      color = \"black\",\n      margin = margin(t = 15, r = 0, b = 0, l = 0)),\n    \n    # minimal grid panels - want to have some reference but not too bold\n    panel.grid.minor.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    \n    # customize axis titles\n    axis.title.y = element_text(\n      family = \"rob\",\n      margin = margin(r = 10)\n    ),\n    \n      axis.title.x = element_text(\n      family = \"rob\",\n      margin = margin(t = 10)\n    ),\n\n    # Customizing legend  - plot.legend isnt working\n    legend.position = \"none\",\n  \n    # update margin\n    plot.margin = margin(t = 10, r = 10, b = 10, l = 10)\n  ) \n\n\n\nportfolio_value_plot\n```\n\n::: {.cell-output-display}\n![Figure 2. Mean Portfolio Growth Across 100 Scenarios Over 5 Years for Each Company. The average final portfolio value for each company, categorized as Green or Brown based on their portfolio growth. Green companies generally show higher portfolio growth compared to Brown companies. The companies listed by abbreviation in the plot are as follows: FSLR (First Solar), ENPH (Enphase Energy), IBDRY (Iberdrola), BP (British Petroleum), SHEL (Shell), CVX (Chevron), NEE (NextEra Energy), XOM (ExxonMobil), BEP (Brookfield Renewable Partners), and COP (ConocoPhillips).](index_files/figure-html/bar-graph-1.png){width=672}\n:::\n:::\n\n\n\n## Environmental Costs\n\nEnvironmental costs showed a significant variation across the companies (Figure 3). The Green firms generally had lower environmental costs over the 5-year scenario, with the exception of NextEra Energy (NEE), which had a moderate environmental cost of \\$368.99. In contrast, the Brown firms, particularly Chevron (CVX) and Shell (SHEL), exhibited higher environmental costs, with CVX reaching \\$1,492.10 and SHEL at \\$750.26. BP and COP also demonstrated notable environmental costs, highlighting the greater ecological impact associated with these companies.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubtitle <- glue::glue(\"\n  Mean across 100 scenarios over 5 years shows that \n  <span style='color:#2E8B57;'>**green firms**</span> have lower <br> environmental costs \n  compared to \n  <span style='color:#8B7765;'>**brown firms**</span>.\n\")\n\n\n# Plot Mean Environmental Cost\nenvironmental_plot <- ggplot(company_summary, aes(x = reorder(company, mean_enviro_cost), \n                                                  y = mean_enviro_cost, fill = firm_type)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = c(\"Green\" = \"seagreen\", \"Brown\" = \"peachpuff4\")) +\n  \n  \n  #labs - \n  labs(title = \"Company Environmental Cost\", \n       subtitle = subtitle,\n       x = \"Company Ticker\", \n       y = \"Mean Environmental Cost ($)\"\n       ) +\n  theme_minimal() +\n  \n  # CUSTOMIZE THEME --\n  theme(\n  \n    plot.title.position = \"plot\", # plot title to the left\n    # customize plot title text\n    plot.title = element_text(\n      family = \"rob\",\n      face = \"bold\",\n      size = 18,\n      color = \"black\", \n      margin = margin(b = 2)  # Add small bottom margin\n    ),\n     # customize subtitle text\n    plot.subtitle = ggtext::element_markdown(\n      family = \"rob\",\n      size = 11.5,\n      color = \"black\",\n      margin = margin(t = 0, r = 0, b = 5, l = 0)\n    ),\n    # customize caption text\n    plot.caption = element_text(\n      family = \"rob\",\n      face = \"italic\",\n      color = \"black\",\n      margin = margin(t = 15, r = 0, b = 0, l = 0)),\n    \n    # minimal grid panels - want to have some reference but not too bold\n    panel.grid.minor.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    \n    \n    # customize axis titles\n    axis.title.y = element_text(\n      family = \"rob\",\n      margin = margin(r = 10)\n    ),\n    \n      axis.title.x = element_text(\n      family = \"rob\",\n      margin = margin(t = 10)\n    ),\n    \n\n    # Customizing legend  - plot.legend isnt working\n    legend.position = \"none\",\n  \n    # update margin\n    plot.margin = margin(t = 10, r = 10, b = 10, l = 10)\n  ) \n\n# Display the plot\nenvironmental_plot\n```\n\n::: {.cell-output-display}\n![Figure 3. Mean Environmental Cost Across 100 Scenarios Over 5 Years for Each Company. The average environmental cost for each company, categorized as Green or Brown based on their environmental impact. Green companies generally have lower environmental costs compared to Brown companies. The companies listed by abbreviation in the plot are as follows: FSLR (First Solar), ENPH (Enphase Energy), IBDRY (Iberdrola), BP (British Petroleum), SHEL (Shell), CVX (Chevron), NEE (NextEra Energy), XOM (ExxonMobil), BEP (Brookfield Renewable Partners), and COP (ConocoPhillips). ](index_files/figure-html/bar-graph-cost-1.png){width=672}\n:::\n:::\n\n\n\n## Volatility\n\nVolatility across the companies was relatively consistent, with values ranging from 0.00747 to 0.00765. No significant differences were observed between green and brown firms, suggesting that market risk remained fairly stable across both categories.\n\n# Discussion (Abridged)\n\nOur analysis shows that green companies, especially in renewable energy, outperform brown companies in both financial returns and environmental costs. As seen in Figure 1, top performers like First Solar, Enphase Energy, and Iberdrola achieved high portfolio growth, while maintaining lower environmental costs—less than \\$250,000 for Brookfield Energy Partners, Iberdrola, and Enphase Energy. In contrast, brown companies such as Chevron, ConocoPhillips, and Shell had significantly higher environmental costs, with Chevron’s costs more than three times higher than the green companies.\n\nThese findings highlight that green energy investments offer both strong financial returns and reduced ecological impact, making them a more sustainable choice as the renewable energy sector grows. A more robust discussion of the results, and shortcomings of green investing, including leakage, greenwashing, and differing scopes, are discussed in the full report.\n\n# References\n\nBauer, M., Huber, D., Rudebusch, G., & Wilms, O. (2022). Where is the carbon premium? Global performance of green and brown stocks. ScienceDirect.\n\nDawkin, D. (July, 19). Why Oil And Gas Stocks Keep Leaking Into 'Green' Investments. Retrieved from Forbes: 2019\n\nGormsen, N. J., Huber, K., & Oh, S. S. (2024). Climate capitalists (No. w32933). National Bureau of Economic Research.\n\nHartzmark, S. M., & Shue, K. (2022). Counterproductive sustainable investing: The impact elasticity of brown and green firms. Available at SSRN 4359282.\n\nJensen, S., Mohlin, K., Pittel, K., & Sterner, T. (2015). An Introduction to the Green Paradox: The Unintended Consequences of Climate Policies. University of Chicago Press Journals.\n\n# Appendix A\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create the kable table with renamed columns for environmental costs\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(webshot)\nlibrary(here)\n\ncompany_kable <- company_summary %>%\n  kable(\n    caption = \"Company Summary over 100 Scenarios and 5 Years\",\n    col.names = c(\"Company\", \"Mean Return (%)\", \"Mean Portfolio Growth ($)\", \"Mean Environmental Cost ($)\", \"Mean Voltality\", \"Firm Type\")\n  ) %>%\n  kable_styling(\"striped\", full_width = FALSE)\n\ncompany_kable \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Company Summary over 100 Scenarios and 5 Years</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Company </th>\n   <th style=\"text-align:right;\"> Mean Return (%) </th>\n   <th style=\"text-align:right;\"> Mean Portfolio Growth ($) </th>\n   <th style=\"text-align:right;\"> Mean Environmental Cost ($) </th>\n   <th style=\"text-align:right;\"> Mean Voltality </th>\n   <th style=\"text-align:left;\"> Firm Type </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> FSLR </td>\n   <td style=\"text-align:right;\"> 0.1302818 </td>\n   <td style=\"text-align:right;\"> 3553.820 </td>\n   <td style=\"text-align:right;\"> 264.7567389 </td>\n   <td style=\"text-align:right;\"> 0.0075415 </td>\n   <td style=\"text-align:left;\"> Green </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ENPH </td>\n   <td style=\"text-align:right;\"> 0.1257332 </td>\n   <td style=\"text-align:right;\"> 3430.658 </td>\n   <td style=\"text-align:right;\"> 5.8865082 </td>\n   <td style=\"text-align:right;\"> 0.0075374 </td>\n   <td style=\"text-align:left;\"> Green </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> IBDRY </td>\n   <td style=\"text-align:right;\"> 0.1253120 </td>\n   <td style=\"text-align:right;\"> 3419.197 </td>\n   <td style=\"text-align:right;\"> 195.5137460 </td>\n   <td style=\"text-align:right;\"> 0.0075925 </td>\n   <td style=\"text-align:left;\"> Green </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BP </td>\n   <td style=\"text-align:right;\"> 0.1228751 </td>\n   <td style=\"text-align:right;\"> 3351.992 </td>\n   <td style=\"text-align:right;\"> 384.0384257 </td>\n   <td style=\"text-align:right;\"> 0.0076486 </td>\n   <td style=\"text-align:left;\"> Brown </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> SHEL </td>\n   <td style=\"text-align:right;\"> 0.1203150 </td>\n   <td style=\"text-align:right;\"> 3283.442 </td>\n   <td style=\"text-align:right;\"> 750.2629691 </td>\n   <td style=\"text-align:right;\"> 0.0076489 </td>\n   <td style=\"text-align:left;\"> Brown </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CVX </td>\n   <td style=\"text-align:right;\"> 0.1193720 </td>\n   <td style=\"text-align:right;\"> 3256.402 </td>\n   <td style=\"text-align:right;\"> 1492.0969043 </td>\n   <td style=\"text-align:right;\"> 0.0075649 </td>\n   <td style=\"text-align:left;\"> Brown </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NEE </td>\n   <td style=\"text-align:right;\"> 0.1180383 </td>\n   <td style=\"text-align:right;\"> 3219.879 </td>\n   <td style=\"text-align:right;\"> 368.9886306 </td>\n   <td style=\"text-align:right;\"> 0.0074976 </td>\n   <td style=\"text-align:left;\"> Green </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> XOM </td>\n   <td style=\"text-align:right;\"> 0.1135662 </td>\n   <td style=\"text-align:right;\"> 3096.724 </td>\n   <td style=\"text-align:right;\"> 355.8406513 </td>\n   <td style=\"text-align:right;\"> 0.0076230 </td>\n   <td style=\"text-align:left;\"> Brown </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BEP </td>\n   <td style=\"text-align:right;\"> 0.1049764 </td>\n   <td style=\"text-align:right;\"> 2864.121 </td>\n   <td style=\"text-align:right;\"> 0.8192851 </td>\n   <td style=\"text-align:right;\"> 0.0074996 </td>\n   <td style=\"text-align:left;\"> Green </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> COP </td>\n   <td style=\"text-align:right;\"> 0.1040502 </td>\n   <td style=\"text-align:right;\"> 2839.468 </td>\n   <td style=\"text-align:right;\"> 648.9662224 </td>\n   <td style=\"text-align:right;\"> 0.0074666 </td>\n   <td style=\"text-align:left;\"> Brown </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}